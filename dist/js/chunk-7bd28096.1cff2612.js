(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bd28096"],{"0864":function(t,e,i){"use strict";i("bc3a");var n=i("900c");e["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(t){for(var e=this,i=[],a=0;a<t.length;a++){var o=t[a];o.propertyValue=n["a"].trimToNull(o.propertyValue),i.push(o)}var r="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(r,i).then((function(t){e.$toastr.s(e.$t("admin.configuration_saved"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(t,e,i){var a=this;i=n["a"].trimToNull(i);var o="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(o,{groupName:t,propertyName:e,propertyValue:i}).then((function(t){a.$toastr.s(a.$t("admin.configuration_saved"))})).catch((function(t){a.$toastr.w(a.$t("condition.unsuccessful_action"))}))}}}},"0af7":function(t,e,i){},6397:function(t,e){t.exports=function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),a=function(t){return t&&t.__esModule?t:{default:t}}(n);jQuery().bootstrapToggle||i(4);var o={};e.default={defaults:o,props:{value:Boolean,options:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{updating:!1}},computed:{$$el:function(){return jQuery(this.$el)}},watch:{value:function(t){this.updating||this.$$el.bootstrapToggle(t?"on":"off")},disabled:function(t){this.$$el.bootstrapToggle(t?"disable":"enable")}},mounted:function(){var t=this;this.value&&(this.$el.checked=!0),this.$$el.bootstrapToggle(a.default.recursive(!0,o,this.options)),this.disabled&&this.$$el.bootstrapToggle("disable"),this.$$el.change((function(){t.updating=!0,t.$emit("input",t.$$el.prop("checked")),t.$nextTick((function(){return t.updating=!1}))}))},beforeDestroy:function(){this.$$el.bootstrapToggle("destroy"),this.$$el.off("change")}}},function(t,e){t.exports=function(t,e,i,n){var a,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(a=t,o=t.default);var l="function"==typeof o?o.options:o;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),i&&(l._scopeId=i),n){var s=Object.create(l.computed||null);Object.keys(n).forEach((function(t){var e=n[t];s[t]=function(){return e}})),l.computed=s}return{esModule:a,exports:o,options:l}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{attrs:{type:"checkbox"}})},staticRenderFns:[]}},function(t,e,i){var n=i(5);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(9)("837c61fc",n,!0)},function(t,e){
/*! ========================================================================
 * Bootstrap Toggle: bootstrap-toggle.js v2.2.0
 * http://www.bootstraptoggle.com
 * ========================================================================
 * Copyright 2014 Min Hur, The New York Times Company
 * Licensed under MIT
 * ======================================================================== */
!function(t){"use strict";function e(e){return this.each((function(){var n=t(this),a=n.data("bs.toggle"),o="object"==typeof e&&e;a||n.data("bs.toggle",a=new i(this,o)),"string"==typeof e&&a[e]&&a[e]()}))}var i=function(e,i){this.$element=t(e),this.options=t.extend({},this.defaults(),i),this.render()};i.VERSION="2.2.0",i.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null},i.prototype.defaults=function(){return{on:this.$element.attr("data-on")||i.DEFAULTS.on,off:this.$element.attr("data-off")||i.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||i.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||i.DEFAULTS.offstyle,size:this.$element.attr("data-size")||i.DEFAULTS.size,style:this.$element.attr("data-style")||i.DEFAULTS.style,width:this.$element.attr("data-width")||i.DEFAULTS.width,height:this.$element.attr("data-height")||i.DEFAULTS.height}},i.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var e="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",i=t('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+e),n=t('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+e+" active"),a=t('<span class="toggle-handle btn btn-default">').addClass(e),o=t('<div class="toggle-group">').append(i,n,a),r=t('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(e).addClass(this.options.style);this.$element.wrap(r),t.extend(this,{$toggle:this.$element.parent(),$toggleOn:i,$toggleOff:n,$toggleGroup:o}),this.$toggle.append(o);var l=this.options.width||Math.max(i.outerWidth(),n.outerWidth())+a.outerWidth()/2,s=this.options.height||Math.max(i.outerHeight(),n.outerHeight());i.addClass("toggle-on"),n.addClass("toggle-off"),this.$toggle.css({width:l,height:s}),this.options.height&&(i.css("line-height",i.height()+"px"),n.css("line-height",n.height()+"px")),this.update(!0),this.trigger(!0)},i.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},i.prototype.on=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),t||this.trigger()},i.prototype.off=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),t||this.trigger()},i.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},i.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},i.prototype.update=function(t){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(t):this.off(t)},i.prototype.trigger=function(e){this.$element.off("change.bs.toggle"),e||this.$element.change(),this.$element.on("change.bs.toggle",t.proxy((function(){this.update()}),this))},i.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var n=t.fn.bootstrapToggle;t.fn.bootstrapToggle=e,t.fn.bootstrapToggle.Constructor=i,t.fn.toggle.noConflict=function(){return t.fn.bootstrapToggle=n,this},t((function(){t("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()})),t(document).on("click.bs.toggle","div[data-toggle^=toggle]",(function(e){t(this).find("input[type=checkbox]").bootstrapToggle("toggle"),e.preventDefault()}))}(jQuery)},function(t,e,i){e=t.exports=i(6)(),e.push([t.i,"/*! ========================================================================\n * Bootstrap Toggle: bootstrap-toggle.css v2.2.0\n * http://www.bootstraptoggle.com\n * ========================================================================\n * Copyright 2014 Min Hur, The New York Times Company\n * Licensed under MIT\n * ======================================================================== */.checkbox-inline .toggle,.checkbox label .toggle{margin-left:-20px;margin-right:5px}.toggle{position:relative;overflow:hidden}.toggle input[type=checkbox]{display:none}.toggle-group{position:absolute;width:200%;top:0;bottom:0;left:0;transition:left .35s;-webkit-transition:left .35s;-moz-user-select:none;-webkit-user-select:none}.toggle.off .toggle-group{left:-100%}.toggle-on{left:0;right:50%}.toggle-off,.toggle-on{position:absolute;top:0;bottom:0;margin:0;border:0;border-radius:0}.toggle-off{left:50%;right:0}.toggle-handle{position:relative;margin:0 auto;padding-top:0;padding-bottom:0;height:100%;width:0;border-width:0 1px}.toggle.btn{min-width:59px;min-height:34px}.toggle-on.btn{padding-right:24px}.toggle-off.btn{padding-left:24px}.toggle.btn-lg{min-width:79px;min-height:45px}.toggle-on.btn-lg{padding-right:31px}.toggle-off.btn-lg{padding-left:31px}.toggle-handle.btn-lg{width:40px}.toggle.btn-sm{min-width:50px;min-height:30px}.toggle-on.btn-sm{padding-right:20px}.toggle-off.btn-sm{padding-left:20px}.toggle.btn-xs{min-width:35px;min-height:22px}.toggle-on.btn-xs{padding-right:12px}.toggle-off.btn-xs{padding-left:12px}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(n[o]=!0)}for(a=0;a<e.length;a++){var r=e[a];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(t,e,i){(function(t){!function(e){function i(t,e){if("object"!==a(t))return e;for(var n in e)"object"===a(t[n])&&"object"===a(e[n])?t[n]=i(t[n],e[n]):t[n]=e[n];return t}function n(t,e,n){var r=n[0],l=n.length;(t||"object"!==a(r))&&(r={});for(var s=0;s<l;++s){var u=n[s];if("object"===a(u))for(var p in u){var d=t?o.clone(u[p]):u[p];r[p]=e?i(r[p],d):d}}return r}function a(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var o=function(t){return n(!0===t,!1,arguments)};o.recursive=function(t){return n(!0===t,!0,arguments)},o.clone=function(t){var e,i,n=t,r=a(t);if("array"===r)for(n=[],i=t.length,e=0;e<i;++e)n[e]=o.clone(t[e]);else if("object"===r)for(e in n={},t)n[e]=o.clone(t[e]);return n},e?t.exports=o:window.merge=o}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(e,i(11)(t))},function(t,e,i){i(3);var n=i(1)(i(0),i(2),null,null);t.exports=n.exports},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=p[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(o(i.parts[a]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var r=[];for(a=0;a<i.parts.length;a++)r.push(o(i.parts[a]));p[i.id]={id:i.id,refs:1,parts:r}}}}function a(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function o(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(m)return h;n.parentNode.removeChild(n)}if(g){var o=f++;n=c||(c=a()),e=r.bind(null,n,o,!1),i=r.bind(null,n,o,!0)}else n=a(),e=l.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function r(t,e,i,n){var a=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var o=document.createTextNode(a),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function l(t,e){var i=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=i(10),p={},d=s&&(document.head||document.getElementsByTagName("head")[0]),c=null,f=0,m=!1,h=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){m=i;var a=u(t,e);return n(a),function(e){for(var i=[],o=0;o<a.length;o++){var r=a[o],l=p[r.id];l.refs--,i.push(l)}e?(a=u(t,e),n(a)):a=[];for(o=0;o<i.length;o++){l=i[o];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete p[l.id]}}}};var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],r=o[0],l=o[1],s=o[2],u=o[3],p={id:t+":"+a,css:l,media:s,sourceMap:u};n[r]?n[r].parts.push(p):i.push(n[r]={id:r,parts:[p]})}return i}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])},8385:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-card",{attrs:{"no-body":"",header:t.header}},[i("b-card-body",[i("div",{attrs:{id:"customToolbar"}},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createTemplateModal",modifiers:{createTemplateModal:!0}}],attrs:{size:"md",variant:"outline-primary"}},[i("span",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("admin.create_template"))+"\n      ")]),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.generalTemplateConfigurationModal",modifiers:{generalTemplateConfigurationModal:!0}}],attrs:{size:"md",variant:"outline-primary"}},[i("span",{staticClass:"fa fa-wrench"}),t._v(" "+t._s(t.$t("admin.general_template_configuration"))+"\n      ")])],1),i("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1),i("create-template-modal",{on:{refreshTable:t.refreshTable}}),i("general-template-configuration-modal",{on:{refreshTable:t.refreshTable}})],1)},a=[],o=(i("7f7f"),i("6c36")),r=i.n(o),l=i("900c"),s=i("12cb"),u=i("f547"),p=i("6397"),d=i.n(p),c=i("08c4"),f=i("192b"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{id:"createTemplateModal",size:"md","hide-header-close":"","no-stacking":"",title:t.$t("admin.create_template")},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.cancel;return[i("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.close")))]),i("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(e){return t.createTemplate()}}},[t._v(t._s(t.$t("message.create")))])]}}])},[i("b-form-group",{attrs:{id:"fieldset-1",label:this.$t("message.name"),"label-for":"input-1","label-class":"required"}},[i("b-form-input",{staticClass:"required",attrs:{id:"input-1",required:"",trim:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("b-form-group",{attrs:{id:"fieldset-2",label:this.$t("admin.publisher_class"),"label-for":"input-2","label-class":"required"}},[i("b-form-input",{staticClass:"required",attrs:{id:"input-2",required:"",trim:""},model:{value:t.publisherClass,callback:function(e){t.publisherClass=e},expression:"publisherClass"}})],1),i("b-form-group",{attrs:{id:"fieldset-3",label:this.$t("message.description"),"label-for":"input-3","label-class":"required"}},[i("b-form-textarea",{staticClass:"required",attrs:{id:"input-3",rows:"4",required:"",trim:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),i("b-form-group",{attrs:{id:"fieldset-4",label:this.$t("admin.mime_type"),"label-for":"input-4","label-class":"required"}},[i("b-form-input",{staticClass:"required",attrs:{id:"input-4",required:"",trim:""},model:{value:t.mimeType,callback:function(e){t.mimeType=e},expression:"mimeType"}})],1),i("b-form-group",{attrs:{id:"fieldset-5",label:this.$t("admin.template"),"label-for":"input-5","label-class":"required"}},[i("b-form-textarea",{staticClass:"required",attrs:{id:"input-5",rows:"10",required:"",trim:""},model:{value:t.template,callback:function(e){t.template=e},expression:"template"}})],1)],1)},h=[],g=i("7c15"),b={mixins:[g["a"]],mounted:function(){var t=this;u["a"].$on("admin:templates:cloneTemplate",(function(e){t.name="".concat(e.name," - clone"),t.publisherClass=e.publisherClass,t.description=e.description,t.mimeType=e.templateMimeType,t.template=e.template})),this.$root.$on("bv::modal::hide",(function(e,i){"createTemplateModal"==i&&t.resetValues()}))},data:function(){return{name:null,publisherClass:null,description:null,mimeType:null,template:null}},methods:{createTemplate:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER);this.axios.put(e,{name:this.name,description:this.description,publisherClass:this.publisherClass,template:this.template,templateMimeType:this.mimeType,defaultPublisher:!1}).then((function(){t.$emit("refreshTable"),t.$toastr.s(t.$t("admin.template_created"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","createTemplateModal")},resetValues:function(){this.name=null,this.publisherClass=null,this.description=null,this.mimeType=null,this.template=null}}},v=b,$=i("2877"),y=Object($["a"])(v,m,h,!1,null,null,null),_=y.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{id:"generalTemplateConfigurationModal",size:"lg","hide-header-close":"","no-stacking":"",title:t.$t("admin.general_template_configuration")},on:{show:t.loadConfigProperties},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.cancel;return[i("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.close")))]),i("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(e){return t.updateConfiguration()}}},[t._v(t._s(t.$t("message.update")))]),i("b-button",{attrs:{size:"md",variant:"warning"},on:{click:function(e){return t.restoreDefaultTemplates()}}},[t._v(t._s(t.$t("admin.restore_default_template")))])]}}])},[i("p",[t._v(t._s(t.$t("admin.template_override_description")))]),i("p",[t._v(t._s(t.$t("admin.template_override_file_hierarchy")))]),i("p",[t._v(t._s(t.$t("admin.template_override_security_warning")))]),i("p",[t._v(t._s(t.$t("admin.template_override_restart_needed")))]),i("b-form-group",[i("c-switch",t._b({attrs:{id:"template_override",color:"primary",label:""},model:{value:t.enableDefaultTemplatesOverride,callback:function(e){t.enableDefaultTemplatesOverride=e},expression:"enableDefaultTemplatesOverride"}},"c-switch",t.labelIcon,!1)),t._v("\n      "+t._s(t.$t("admin.enable_default_template_override"))+"\n  ")],1),i("b-validated-input-group-form-input",{attrs:{id:"template_basedir",label:t.$t("admin.template_basedir"),"input-group-size":"mb-3",rules:"required",type:"text",tooltip:t.$t("admin.template_basedir_tooltip")},model:{value:t.templateBasedir,callback:function(e){t.templateBasedir=e},expression:"templateBasedir"}})],1)},x=[],w=i("0864"),C=i("f1fb"),k=i("cc9d"),P={mixins:[w["a"]],components:{cSwitch:C["o"],BValidatedInputGroupFormInput:k["a"]},data:function(){return{enableDefaultTemplatesOverride:null,templateBasedir:null}},methods:{updateConfiguration:function(){this.$root.$emit("bv::hide::modal","generalTemplateConfigurationModal"),this.updateConfigProperties([{groupName:"notification",propertyName:"template.baseDir",propertyValue:this.templateBasedir},{groupName:"notification",propertyName:"template.default.override.enabled",propertyValue:this.enableDefaultTemplatesOverride}])},restoreDefaultTemplates:function(){var t=this;this.$root.$emit("bv::hide::modal","generalTemplateConfigurationModal");var e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER,"/restoreDefaultTemplates");this.axios.post(e).then((function(){t.$emit("refreshTable"),t.$toastr.s(t.$t("admin.default_template_restored"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},loadConfigProperties:function(){var t=this;this.axios.get(this.configUrl).then((function(e){for(var i=e.data.filter((function(t){return"notification"===t.groupName})),n=0;n<i.length;n++){var a=i[n];switch(a.propertyName){case"template.baseDir":t.templateBasedir=a.propertyValue;break;case"template.default.override.enabled":t.enableDefaultTemplatesOverride=l["a"].toBoolean(a.propertyValue);break}}}))}}},O=P,U=Object($["a"])(O,T,x,!1,null,null,null),N=U.exports,R={props:{header:String},mixins:[c["a"]],components:{CreateTemplateModal:_,GeneralTemplateConfigurationModal:N},mounted:function(){var t=this;u["a"].$on("admin:templates:rowUpdate",(function(e,i){t.$refs.table.updateRow({index:e,row:i}),t.$refs.table.expandRow(e)})),u["a"].$on("admin:templates:rowDeleted",(function(){t.refreshTable()})),u["a"].$on("admin:templates:cloneTemplate",(function(){t.$bvModal.show("createTemplateModal")}))},beforeDestroy:function(){u["a"].$off("admin:templates:rowUpdate"),u["a"].$off("admin:templates:rowDeleted")},data:function(){var t=this;return{columns:[{title:this.$t("message.name"),field:"name",sortable:!0,formatter:function(t,e,i){return r.a.inHTMLData(l["a"].valueWithDefault(t,""))}},{title:this.$t("admin.default"),field:"defaultPublisher",class:"tight",sortable:!0,formatter:function(t,e,i){return!0===t?'<i class="fa fa-check-square-o" />':""}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},detailView:!0,detailViewIcon:!1,detailViewByClick:!0,detailFormatter:function(e,i){return t.vueFormatter({i18n:s["a"],template:'\n              <b-row class="expanded-row">\n                <b-col sm="6">\n                  <b-form-group v-if="template.defaultPublisher" id="fieldset-1" :label="this.$t(\'message.name\')" label-for="input-1">\n                    <b-form-input id="input-1" v-model="template.name" disabled class="form-control disabled" trim />\n                  </b-form-group>\n                  <b-input-group-form-input v-if="!template.defaultPublisher" id="input-1" :label="$t(\'message.name\')" input-group-size="mb-3"\n                                            required="true" type="text" v-model="template.name" />\n                  <b-form-group v-if="template.defaultPublisher" id="fieldset-2" :label="this.$t(\'admin.publisher_class\')" label-for="input-2">\n                    <b-form-input v-if="template.defaultPublisher" id="input-2" v-model="template.publisherClass" disabled class="form-control disabled" readonly trim />\n                  </b-form-group>\n                  <b-input-group-form-input v-if="!template.defaultPublisher" id="input-2" :label="this.$t(\'admin.publisher_class\')" input-group-size="mb-3"\n                                            required="true" type="text" v-model="template.publisherClass" />\n                  <b-form-group v-if="template.defaultPublisher" id="fieldset-3" :label="this.$t(\'message.description\')" label-for="input-3">\n                    <b-form-textarea v-if="template.defaultPublisher" id="input-3" v-model="template.description" rows="4" disabled class="form-control disabled" readonly trim />\n                  </b-form-group>\n                  <b-input-group-form-input v-if="!template.defaultPublisher" id="input-3" :label="this.$t(\'message.description\')" input-group-size="mb-3"\n                                            required="true" type="text" v-model="template.description" />\n                </b-col>\n                <b-col sm="6">\n                  <b-form-group v-if="template.defaultPublisher" id="fieldset-4" :label="this.$t(\'admin.mime_type\')" label-for="input-4">\n                    <b-form-input v-if="template.defaultPublisher" id="input-4" v-model="template.templateMimeType" disabled class="form-control disabled" readonly trim />\n                  </b-form-group>\n                  <b-input-group-form-input v-if="!template.defaultPublisher" id="input-4" :label="this.$t(\'admin.mime_type\')" input-group-size="mb-3"\n                                            required="true" type="text" v-model="template.templateMimeType" />\n                  <b-form-group id="fieldset-5" :label="this.$t(\'admin.template\')" label-for="imput-5">\n                    <b-form-textarea v-if="template.defaultPublisher" id="input-5" v-model="template.template" rows="10" disabled class="form-control disabled" readonly trim />\n                    <b-form-textarea v-else id="input-5" v-model="template.template" rows="10" class="form-control" required trim />\n                  </b-form-group>\n                  <div style="text-align:right">\n                    <b-button variant="outline-primary" @click="cloneNotificationPublisher">{{ $t(\'admin.clone_template\') }}</b-button>\n                    <b-button v-if="!template.defaultPublisher" variant="outline-primary" @click="updateNotificationPublisher">{{ $t(\'message.update\') }}</b-button>\n                    <b-button v-if="!template.defaultPublisher" variant="outline-danger" @click="deleteNotificationPublisher">{{ $t(\'admin.delete_template\') }}</b-button>\n                  </div>    \n                </b-col>\n              </b-row>\n            ',data:function(){return{template:i}},components:{BootstrapToggle:d.a,BInputGroupFormInput:f["a"]},methods:{updateNotificationPublisher:function(){var t=this,i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER);this.axios.post(i,{uuid:this.template.uuid,name:this.template.name,description:this.template.description,publisherClass:this.template.publisherClass,template:this.template.template,templateMimeType:this.template.templateMimeType}).then((function(i){t.template=i.data,u["a"].$emit("admin:templates:rowUpdate",e,t.template),t.$toastr.s(t.$t("message.updated"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},deleteNotificationPublisher:function(){var t=this,i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER,"/").concat(this.template.uuid);this.axios.delete(i).then((function(i){t.template=i.data,u["a"].$emit("admin:templates:rowDeleted",e),t.$toastr.s(t.$t("admin.template_deleted"))})).catch((function(){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},cloneNotificationPublisher:function(){u["a"].$emit("admin:templates:cloneTemplate",this.template)}}})},onExpandRow:this.vueFormatterInit,toolbar:"#customToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER)}}},methods:{refreshTable:function(){this.$refs.table.refresh({silent:!0})}}},S=R,E=(i("ba62"),Object($["a"])(S,n,a,!1,null,null,null));e["default"]=E.exports},ba62:function(t,e,i){"use strict";i("0af7")}}]);