(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5843d099","chunk-14b7663c"],{"08c4":function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("cadf"),n("456d"),n("7f7f");var a=n("454f"),i=n.n(a),s=n("f921"),o=n.n(s),r=n("d8d6"),c=n.n(r);function u(e){return u="function"==typeof o.a&&"symbol"==typeof c.a?function(e){return typeof e}:function(e){return e&&"function"==typeof o.a&&e.constructor===o.a&&e!==o.a.prototype?"symbol":typeof e},u(e)}var l=n("366e"),d=n.n(l);function f(e,t){if("object"!==u(e)||null===e)return e;var n=e[d.a];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==u(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){var t=f(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t,n){return t=m(t),t in e?i()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("a026");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={data:function(){return{vueFormatters:[]}},methods:{vueFormatter:function(e){var t="_vue_formatter_".concat(this.vueFormatters.length);return this.vueFormatters.push(v({el:".".concat(t),name:t},e)),'<div class="'.concat(t,'"/>')},vueFormatterInit:function(){if(this.vueFormatters.length)for(var e=this.vueFormatters.length-1;e>=0;e--){var t=this.vueFormatters[e];document.getElementsByClassName(t.name)&&(new h["default"](t),this.vueFormatters.splice(e,1))}}}}},"192b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-group",{attrs:{id:e.id,label:e.label,"label-for":e.id+"-input","label-class":e.labelClasses}},[n("b-input-group",{class:e.inputGroupSize},[e.icon?n("b-input-group-prepend",[n("b-input-group-text",[n("i",{class:e.icon})])],1):e._e(),n("b-form-input",e._g({class:e.inputClasses,attrs:{id:e.id+"-input",type:e.type,placeholder:e.label,state:e.feedbackState(),autocomplete:e.autocomplete,autofocus:e.isFocused,required:e.isRequired,readonly:e.readonly,disabled:e.isDisabled,trim:""},on:{blur:function(t){e.hadFocus=!0}},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},e.inputListeners)),e.tooltip?n("b-input-group-append",[n("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.tooltip}},[n("i",{staticClass:"cui-info font-lg"})])],1):e._e()],1),"true"===this.feedback?n("b-form-invalid-feedback",{attrs:{state:e.feedbackState()}},[e._v("\n    "+e._s(e.feedbackText)+"\n  ")]):e._e()],1)},i=[],s=(n("f751"),n("900c")),o={props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,type:String,autocomplete:String,autofocus:String,tooltip:String,feedbackText:String,feedback:String,lazy:String,required:String,readonly:Boolean,disabled:String,state:{default:void 0,type:Boolean}},data:function(){return{isFocused:!1,isRequired:!1,isDisabled:!1,hadFocus:!1}},beforeMount:function(){this.isFocused=s["a"].toBoolean(this.autofocus),this.isRequired=s["a"].toBoolean(this.required),this.isDisabled=s["a"].toBoolean(this.disabled)},computed:{innerValue:{get:function(){return this.value&&this.value.length,this.value},set:function(e){return e}},inputListeners:function(){var e=this;return Object.assign({},this.$listeners,{input:function(t){e.$emit("input",t)}})},inputClasses:function(){return this.isRequired?"required":null},labelClasses:function(){return this.isRequired?"required":null}},methods:{feedbackState:function(){if(!this.isDisabled||this.isRequired)return void 0!==this.state?this.state:s["a"].toBoolean(this.lazy)&&s["a"].toBoolean(this.required)?!!(this.value&&this.value.length>0)||!this.hadFocus&&void 0:!!(this.value&&this.value.length>0)||void 0}}},r=o,c=n("2877"),u=Object(c["a"])(r,a,i,!1,null,null,null);t["a"]=u.exports},"2e23":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"no-body":"",header:e.header}},[n("b-card-body",[n("div",{attrs:{id:"customToolbar"}},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createOidcUserModal",modifiers:{createOidcUserModal:!0}}],attrs:{size:"md",variant:"outline-primary"}},[n("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.$t("admin.create_user"))+"\n      ")])],1),n("bootstrap-table",{ref:"table",attrs:{columns:e.columns,data:e.data,options:e.options}})],1),n("create-oidc-user-modal",{on:{refreshTable:e.refreshTable}})],1)},i=[],s=(n("7f7f"),n("6c36")),o=n.n(s),r=n("900c"),c=n("12cb"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"createOidcUserModal",size:"md","hide-header-close":"","no-stacking":"",title:e.$t("admin.create_oidc_user")},on:{hide:function(t){return e.resetValues()}},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var a=t.cancel;return[n("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(e){return a()}}},[e._v(e._s(e.$t("message.close")))]),n("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){return e.createUser()}}},[e._v(e._s(e.$t("message.create")))])]}}])},[n("b-input-group-form-input",{attrs:{id:"username-input","input-group-size":"mb-3",type:"text",lazy:"true",required:"true",feedback:"true",autofocus:"false",label:e.$t("message.username"),"feedback-text":e.$t("admin.required_username")},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)},l=[],d=n("7c15"),f=n("192b"),m={mixins:[d["a"]],components:{BInputGroupFormInput:f["a"]},data:function(){return{username:null}},methods:{createUser:function(){var e=this,t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_OIDC);this.axios.put(t,{username:this.username}).then((function(t){e.$emit("refreshTable"),e.$toastr.s(e.$t("admin.user_created"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","createOidcUserModal"),this.resetValues()},resetValues:function(){this.username=null}}},p=m,h=n("2877"),b=Object(h["a"])(p,u,l,!1,null,null,null),v=b.exports,g=n("08c4"),$=n("f547"),_=n("e68f"),S=n("c9ca"),O=n("ae28"),y={props:{header:String},mixins:[g["a"]],components:{CreateOidcUserModal:v},mounted:function(){var e=this;$["a"].$on("admin:oidcusers:rowUpdate",(function(t,n){e.$refs.table.updateRow({index:t,row:n}),e.$refs.table.expandRow(t)})),$["a"].$on("admin:oidcusers:rowDeleted",(function(t,n){e.refreshTable()}))},beforeDestroy:function(){$["a"].$off("admin:oidcusers:rowUpdate"),$["a"].$off("admin:oidcusers:rowDeleted")},data:function(){var e=this;return{columns:[{title:this.$t("message.username"),field:"username",sortable:!1,formatter:function(e,t,n){return o.a.inHTMLData(r["a"].valueWithDefault(e,""))}},{title:this.$t("admin.subject_identifier"),field:"subjectIdentifier",sortable:!1,formatter:function(e,t,n){return o.a.inHTMLData(r["a"].valueWithDefault(e,""))}},{title:this.$t("admin.teams"),field:"teams",sortable:!1,formatter:function(e,t,n){return e?o.a.inHTMLData(r["a"].valueWithDefault(e.length,"0")):0}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},detailView:!0,detailViewIcon:!1,detailViewByClick:!0,detailFormatter:function(t,n){return e.vueFormatter({i18n:c["a"],template:'\n              <b-row class="expanded-row">\n                <b-col sm="6">\n                  <b-form-group :label="this.$t(\'admin.team_membership\')">\n                    <div class="list-group">\n                      <span v-for="team in teams">\n                        <actionable-list-group-item :value="team.name" :delete-icon="true" v-on:actionClicked="removeTeamMembership(team.uuid)"/>\n                      </span>\n                      <actionable-list-group-item :add-icon="true" v-on:actionClicked="$root.$emit(\'bv::show::modal\', \'selectTeamModal\')"/>\n                    </div>\n                  </b-form-group>\n                  <b-form-group :label="this.$t(\'admin.permissions\')">\n                    <div class="list-group">\n                      <span v-for="permission in permissions">\n                        <actionable-list-group-item :value="permission.name" :delete-icon="true" v-on:actionClicked="removePermission(permission)"/>\n                      </span>\n                      <actionable-list-group-item :add-icon="true" v-on:actionClicked="$root.$emit(\'bv::show::modal\', \'selectPermissionModal\')"/>\n                    </div>\n                  </b-form-group>\n                </b-col>\n                <b-col sm="6">\n                  <div style="text-align:right">\n                     <b-button variant="outline-danger" @click="deleteUser">{{ $t(\'admin.delete_user\') }}</b-button>\n                  </div>\n                </b-col>\n                <select-team-modal v-on:selection="updateTeamSelection" />\n                <select-permission-modal v-on:selection="updatePermissionSelection" />\n              </b-row>\n            ',mixins:[d["a"]],components:{ActionableListGroupItem:_["a"],SelectTeamModal:S["a"],SelectPermissionModal:O["a"]},data:function(){return{oidcUser:n,username:n.username,teams:n.teams,permissions:n.permissions}},methods:{deleteUser:function(){var e=this,n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_OIDC);this.axios.delete(n,{data:{username:this.username}}).then((function(n){$["a"].$emit("admin:oidcusers:rowDeleted",t),e.$toastr.s(e.$t("admin.user_deleted"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},updateTeamSelection:function(e){var n=this;this.$root.$emit("bv::hide::modal","selectTeamModal");for(var a=0;a<e.length;a++){var i=e[a],s="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER,"/").concat(this.username,"/membership");this.axios.post(s,{uuid:i.uuid}).then((function(e){n.syncVariables(e.data),$["a"].$emit("admin:oidcusers:rowUpdate",t,n.oidcUser),n.$toastr.s(n.$t("message.updated"))})).catch((function(e){304===e.response.status||n.$toastr.w(n.$t("condition.unsuccessful_action"))}))}},removeTeamMembership:function(e){var n=this,a="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER,"/").concat(this.username,"/membership");this.axios.delete(a,{data:{uuid:e}}).then((function(e){n.syncVariables(e.data),$["a"].$emit("admin:oidcusers:rowUpdate",t,n.oidcUser),n.$toastr.s(n.$t("message.updated"))})).catch((function(e){n.$toastr.w(n.$t("condition.unsuccessful_action"))}))},updatePermissionSelection:function(e){var t=this;this.$root.$emit("bv::hide::modal","selectPermissionModal");for(var n=0;n<e.length;n++){var a=e[n],i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION,"/").concat(a.name,"/user/").concat(this.username);this.axios.post(i).then((function(e){t.syncVariables(e.data),t.$toastr.s(t.$t("message.updated"))})).catch((function(e){console.log(e),304===e.response.status||t.$toastr.w(t.$t("condition.unsuccessful_action"))}))}},removePermission:function(e){var t=this,n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION,"/").concat(e.name,"/user/").concat(this.username);this.axios.delete(n).then((function(e){t.syncVariables(e.data),t.$toastr.s(t.$t("message.updated"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},syncVariables:function(e){this.oidcUser=e,this.username=e.username,this.teams=e.teams,this.permissions=e.permissions}}})},onExpandRow:this.vueFormatterInit,toolbar:"#customToolbar",responseHandler:function(e,t){return e.total=t.getResponseHeader("X-Total-Count"),e},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_USER_OIDC)}}},methods:{refreshTable:function(){this.$refs.table.refresh({silent:!0})}}},w=y,R=Object(h["a"])(w,a,i,!1,null,null,null);t["default"]=R.exports},"366e":function(e,t,n){e.exports=n("ccb9").f("toPrimitive")},"454f":function(e,t,n){n("46a7");var a=n("584a").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},"456d":function(e,t,n){var a=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(e){return i(a(e))}}))},"46a7":function(e,t,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"5eda":function(e,t,n){var a=n("5ca1"),i=n("8378"),s=n("79e5");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),a(a.S+a.F*s((function(){n(1)})),"Object",o)}},"5f90":function(e,t,n){"use strict";n("fcb2")},7333:function(e,t,n){"use strict";var a=n("9e1e"),i=n("0d58"),s=n("2621"),o=n("52a7"),r=n("4bf8"),c=n("626a"),u=Object.assign;e.exports=!u||n("79e5")((function(){var e={},t={},n=Symbol(),a="abcdefghijklmnopqrst";return e[n]=7,a.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=a}))?function(e,t){var n=r(e),u=arguments.length,l=1,d=s.f,f=o.f;while(u>l){var m,p=c(arguments[l++]),h=d?i(p).concat(d(p)):i(p),b=h.length,v=0;while(b>v)m=h[v++],a&&!f.call(p,m)||(n[m]=p[m])}return n}:u},"7c15":function(e,t,n){"use strict";var a=n("a4c1");t["a"]={data:function(){return{PERMISSIONS:{BOM_UPLOAD:a["b"],VIEW_PORTFOLIO:a["h"],PORTFOLIO_MANAGEMENT:a["e"],ACCESS_MANAGEMENT:a["a"],VIEW_VULNERABILITY:a["i"],VULNERABILITY_ANALYSIS:a["j"],VIEW_POLICY_VIOLATION:a["g"],VULNERABILITY_MANAGEMENT:a["k"],POLICY_VIOLATION_ANALYSIS:a["d"],SYSTEM_CONFIGURATION:a["f"],POLICY_MANAGEMENT:a["c"]}}},computed:{decodedToken:function(){return a["l"](a["m"]())}},methods:{isPermitted:function(e){return a["n"](e,this.decodedToken)},isNotPermitted:function(e){return!a["n"](e,this.decodedToken)}}}},"8e6e":function(e,t,n){var a=n("5ca1"),i=n("990b"),s=n("6821"),o=n("11e9"),r=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,a=s(e),c=o.f,u=i(a),l={},d=0;while(u.length>d)n=c(a,t=u[d++]),void 0!==n&&r(l,t,n);return l}})},"990b":function(e,t,n){var a=n("9093"),i=n("2621"),s=n("cb7c"),o=n("7726").Reflect;e.exports=o&&o.ownKeys||function(e){var t=a.f(s(e)),n=i.f;return n?t.concat(n(e)):t}},ae28:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"selectPermissionModal",size:"lg","hide-header-close":"","no-stacking":"",title:e.$t("admin.select_permission")},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var a=t.cancel;return[n("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(e){return a()}}},[e._v(e._s(e.$t("message.cancel")))]),n("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){e.$emit("selection",e.$refs.table.getSelections())}}},[e._v(e._s(e.$t("message.select")))])]}}])},[n("bootstrap-table",{ref:"table",attrs:{columns:e.columns,data:e.data,options:e.options}})],1)},i=[],s=n("6c36"),o=n.n(s),r=n("7c15"),c=n("900c"),u={mixins:[r["a"]],data:function(){return{labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("message.name"),field:"name",sortable:!0,formatter:function(e,t,n){return o.a.inHTMLData(c["a"].valueWithDefault(e,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},responseHandler:function(e,t){return e.total=t.getResponseHeader("X-Total-Count"),e},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PERMISSION)}}}},l=u,d=n("2877"),f=Object(d["a"])(l,a,i,!1,null,null,null);t["a"]=f.exports},c9ca:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"selectTeamModal",size:"lg","hide-header-close":"","no-stacking":"",title:e.$t("admin.select_team")},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var a=t.cancel;return[n("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(e){return a()}}},[e._v(e._s(e.$t("message.cancel")))]),n("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){e.$emit("selection",e.$refs.table.getSelections())}}},[e._v(e._s(e.$t("message.select")))])]}}])},[n("bootstrap-table",{ref:"table",attrs:{columns:e.columns,data:e.data,options:e.options}})],1)},i=[],s=n("6c36"),o=n.n(s),r=n("7c15"),c=n("900c"),u={mixins:[r["a"]],data:function(){return{labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("admin.team_name"),field:"name",sortable:!0,formatter:function(e,t,n){return o.a.inHTMLData(c["a"].valueWithDefault(e,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},responseHandler:function(e,t){return e.total=t.getResponseHeader("X-Total-Count"),e},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_TEAM)}}}},l=u,d=n("2877"),f=Object(d["a"])(l,a,i,!1,null,null,null);t["a"]=f.exports},e68f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-group-item align-middle"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pull-right action-icon",attrs:{size:"sm",title:e.tooltip},on:{click:function(t){return e.$emit("actionClicked")}}},[this.addIcon?n("span",{staticClass:"fa fa-plus-square"}):e._e(),this.deleteIcon?n("span",{staticClass:"fa fa-trash-o"}):e._e()]),e.$slots&&e.$slots.default&&e.$slots.default[0]?e._t("default"):n("span",[this.href?n("a",{attrs:{href:e.href}},[e._v(e._s(e.value))]):n("span",[e._v(e._s(e.value))]),e._v(" ")])],2)},i=[],s={props:{value:String,tooltip:String,addIcon:Boolean,deleteIcon:Boolean,variant:String,href:String}},o=s,r=(n("5f90"),n("2877")),c=Object(r["a"])(o,a,i,!1,null,"548fa20f",null);t["a"]=c.exports},f751:function(e,t,n){var a=n("5ca1");a(a.S+a.F,"Object",{assign:n("7333")})},fcb2:function(e,t,n){}}]);