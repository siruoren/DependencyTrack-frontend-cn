(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c0b0d46"],{"0864":function(e,t,a){"use strict";var r=a("900c");t["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(e){for(var t=this,a=[],n=0;n<e.length;n++){var o=e[n];o.propertyValue=r["a"].trimToNull(o.propertyValue),a.push(o)}var i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(i,a).then((function(e){t.$toastr.s(t.$t("admin.configuration_saved"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(e,t,a){var n=this;a=r["a"].trimToNull(a);var o="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(o,{groupName:e,propertyName:t,propertyValue:a}).then((function(e){n.$toastr.s(n.$t("admin.configuration_saved"))})).catch((function(e){n.$toastr.w(n.$t("condition.unsuccessful_action"))}))}}}},cc9d:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-provider",{attrs:{vid:e.id,name:e.label,rules:e.rules,mode:e.mode},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,n=t.valid;return[a("b-form-group",{attrs:{id:e.id,label:e.label,"label-for":e.id+"-input"}},[a("b-input-group",{class:e.inputGroupSize},[e.icon?a("b-input-group-prepend",[a("b-input-group-text",[a("i",{class:e.icon})])],1):e._e(),a("b-form-input",e._g({class:e.inputClasses,attrs:{id:e.id+"-input",type:e.type,placeholder:e.label,state:e.errorHandlingMethod(r,n),autocomplete:e.autocomplete,autofocus:e.isFocused},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},e.inputListeners)),e.tooltip?a("b-input-group-append",[a("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.tooltip}},[a("i",{staticClass:"cui-info font-lg"})])],1):e._e()],1),a("b-form-invalid-feedback",{attrs:{state:e.errorHandlingMethod(r,n)}},[e._v("\n      "+e._s(r[0])+"\n    ")])],1)]}}])})},n=[],o=a("7bb1"),i=a("900c"),u={name:"BValidatedInputGroupFormInput",components:{ValidationProvider:o["b"]},props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,rules:String,mode:String,type:String,autocomplete:String,autofocus:String,tooltip:String,lazy:String},data:function(){return{isFocused:!1}},beforeMount:function(){!0!==this.autofocus&&"true"!==this.autofocus||(this.isFocused=!0)},computed:{innerValue:{get:function(){return this.value},set:function(e){return e}},inputListeners:function(){var e=this;return Object.assign({},this.$listeners,{input:function(t){e.$emit("input",t)}})},inputClasses:function(){var e="form-control";return!i["a"].toBoolean(this.lazy)&&this.rules&&this.rules.includes("required")&&(e+=" required"),e}},methods:{errorHandlingMethod:function(e,t){return this.rules?i["a"].toBoolean(this.lazy)?!e[0]&&(!!t||null):!e[0]&&!!t:null}}},l=u,s=a("2877"),c=Object(s["a"])(l,r,n,!1,null,null,null);t["a"]=c.exports},fcf5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{attrs:{"no-body":"",header:e.header}},[a("b-card-body",[a("c-switch",e._b({attrs:{id:"enabled",color:"primary",label:""},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.integration_defectdojo_enable"))+"\n    "),a("c-switch",e._b({attrs:{id:"reimport-enabled",color:"primary",label:""},model:{value:e.reimportEnabled,callback:function(t){e.reimportEnabled=t},expression:"reimportEnabled"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.integration_defectdojo_reimport_enable"))+"\n    "),a("b-validated-input-group-form-input",{attrs:{id:"defectdojo-cadence",label:e.$t("admin.synchronization_cadence_minutes"),"input-group-size":"mb-3",rules:"required",type:"number",lazy:"true"},model:{value:e.cadence,callback:function(t){e.cadence=t},expression:"cadence"}}),a("p",{staticClass:"text-muted"},[e._v(e._s(e.$t("admin.synchronization_cadence_restart_required")))]),a("b-validated-input-group-form-input",{attrs:{id:"defectdojo-url",label:e.$t("admin.url"),"input-group-size":"mb-3",rules:"required",type:"url",lazy:"true"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),a("b-validated-input-group-form-input",{attrs:{id:"defectdojo-apiKey",label:e.$t("admin.api_token"),"input-group-size":"mb-3",rules:"required",type:"password",lazy:"true"},model:{value:e.apiKey,callback:function(t){e.apiKey=t},expression:"apiKey"}})],1),a("b-card-footer",[a("b-button",{staticClass:"px-4",attrs:{variant:"outline-primary"},on:{click:e.saveChanges}},[e._v(e._s(e.$t("message.update")))])],1)],1)},n=[],o=a("f1fb"),i=a("cc9d"),u=a("900c"),l=a("0864"),s={mixins:[l["a"]],props:{header:String},components:{cSwitch:o["o"],BValidatedInputGroupFormInput:i["a"]},data:function(){return{enabled:!1,reimportEnabled:!1,cadence:"60",url:"",apiKey:"",labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{saveChanges:function(){this.updateConfigProperties([{groupName:"integrations",propertyName:"defectdojo.enabled",propertyValue:this.enabled},{groupName:"integrations",propertyName:"defectdojo.reimport.enabled",propertyValue:this.reimportEnabled},{groupName:"integrations",propertyName:"defectdojo.sync.cadence",propertyValue:this.cadence},{groupName:"integrations",propertyName:"defectdojo.url",propertyValue:this.url},{groupName:"integrations",propertyName:"defectdojo.apiKey",propertyValue:this.apiKey}])}},created:function(){var e=this;this.axios.get(this.configUrl).then((function(t){for(var a=t.data.filter((function(e){return"integrations"===e.groupName})),r=0;r<a.length;r++){var n=a[r];switch(n.propertyName){case"defectdojo.enabled":e.enabled=u["a"].toBoolean(n.propertyValue);break;case"defectdojo.reimport.enabled":e.reimportEnabled=u["a"].toBoolean(n.propertyValue);break;case"defectdojo.sync.cadence":e.cadence=n.propertyValue;break;case"defectdojo.url":e.url=n.propertyValue;break;case"defectdojo.apiKey":e.apiKey=n.propertyValue;break}}}))}},c=s,p=a("2877"),d=Object(p["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports}}]);