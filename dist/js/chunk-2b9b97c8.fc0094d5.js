(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b9b97c8"],{"0864":function(e,t,n){"use strict";n("bc3a");var c=n("900c");t["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(e){for(var t=this,n=[],i=0;i<e.length;i++){var r=e[i];r.propertyValue=c["a"].trimToNull(r.propertyValue),n.push(r)}var o="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(o,n).then((function(e){t.$toastr.s(t.$t("admin.configuration_saved"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(e,t,n){var i=this;n=c["a"].trimToNull(n);var r="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(r,{groupName:e,propertyName:t,propertyValue:n}).then((function(e){i.$toastr.s(i.$t("admin.configuration_saved"))})).catch((function(e){i.$toastr.w(i.$t("condition.unsuccessful_action"))}))}}}},"1b52":function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.$t("admin.index_general_description")))]),n("p",[e._v(e._s(e.$t("admin.index_use_cases")))]),n("p",[e._v(e._s(e.$t("admin.index_issues_description")))]),n("br"),n("b-card",{attrs:{"no-body":"",header:e.headers.consistencyCheck}},[n("b-card-body",[n("p",[e._v(e._s(e.$t("admin.index_consistency_check_description")))]),n("c-switch",e._b({attrs:{id:"consistency-check-enabled",color:"primary",label:""},model:{value:e.consistencyCheck.enabled,callback:function(t){e.$set(e.consistencyCheck,"enabled",t)},expression:"consistencyCheck.enabled"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.enable_index_consistency_check"))+"\n      "),n("b-validated-input-group-form-input",{attrs:{id:"consistency-check-cadence",label:e.$t("admin.index_consistency_check_cadence"),"input-group-size":"mb-3",rules:"required|min_value:1",type:"number",tooltip:e.consistencyCheck.cadenceTooltip},model:{value:e.consistencyCheck.cadence,callback:function(t){e.$set(e.consistencyCheck,"cadence",t)},expression:"consistencyCheck.cadence"}}),n("b-validated-input-group-form-input",{attrs:{id:"consistency-check-threshold",label:e.$t("admin.index_consistency_check_threshold"),"input-group-size":"mb-3",rules:"required|min_value:1|max_value:100",type:"number",tooltip:e.consistencyCheck.thresholdTooltip},model:{value:e.consistencyCheck.threshold,callback:function(t){e.$set(e.consistencyCheck,"threshold",t)},expression:"consistencyCheck.threshold"}})],1),n("b-card-footer",[n("b-button",{staticClass:"px-4",attrs:{size:"md",variant:"outline-primary"},on:{click:e.saveConsistencyCheckSettings}},[e._v(e._s(e.$t("message.update")))])],1)],1),n("b-card",{attrs:{"no-body":"",header:e.headers.manualRebuild}},[n("b-card-body",[n("p",[e._v(e._s(e.$t("admin.index_rebuild_description")))]),n("c-switch",e._b({attrs:{id:"project",color:"primary",label:""},model:{value:e.type.project,callback:function(t){e.$set(e.type,"project",t)},expression:"type.project"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_projects"))+"\n      "),n("br"),n("c-switch",e._b({attrs:{id:"component",color:"primary",label:""},model:{value:e.type.component,callback:function(t){e.$set(e.type,"component",t)},expression:"type.component"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_components"))+"\n      "),n("br"),n("c-switch",e._b({attrs:{id:"vulnerability",color:"primary",label:""},model:{value:e.type.vulnerability,callback:function(t){e.$set(e.type,"vulnerability",t)},expression:"type.vulnerability"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_vulnerabilities"))+"\n      "),n("br"),n("c-switch",e._b({attrs:{id:"vulnerablesoftware",color:"primary",label:""},model:{value:e.type.vulnerablesoftware,callback:function(t){e.$set(e.type,"vulnerablesoftware",t)},expression:"type.vulnerablesoftware"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_vulnerable_software"))+"\n      "),n("br"),n("c-switch",e._b({attrs:{id:"servicecomponent",color:"primary",label:""},model:{value:e.type.servicecomponent,callback:function(t){e.$set(e.type,"servicecomponent",t)},expression:"type.servicecomponent"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_service_components"))+"\n      "),n("br"),n("c-switch",e._b({attrs:{id:"license",color:"primary",label:""},model:{value:e.type.license,callback:function(t){e.$set(e.type,"license",t)},expression:"type.license"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_licenses"))+"\n      "),n("br"),n("c-switch",e._b({attrs:{id:"cpe",color:"primary",label:""},model:{value:e.type.cpe,callback:function(t){e.$set(e.type,"cpe",t)},expression:"type.cpe"}},"c-switch",e.labelIcon,!1)),e._v(e._s(e.$t("admin.reindex_cpes"))+"\n      "),n("br")],1),n("b-card-footer",[n("b-button",{staticClass:"px-4",attrs:{size:"md",variant:"outline-primary"},on:{click:e.reindex}},[e._v(e._s(e.$t("message.reindex")))])],1)],1)],1)},i=[],r=n("f410"),o=n.n(r);function a(e){if(o()(e))return e}var s=n("f921"),l=n.n(s),u=n("d8d6"),p=n.n(u);function d(e,t){var n=null==e?null:"undefined"!=typeof l.a&&e[p.a]||e["@@iterator"];if(null!=n){var c,i,r,o,a=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(c=r.call(n)).done)&&(a.push(c.value),a.length!==t);s=!0);}catch(d){u=!0,i=d}finally{try{if(!s&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(u)throw i}}return a}}var h=n("e630");function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return a(e)||d(e,t)||Object(h["a"])(e,t)||b()}n("cadf"),n("ffc1"),n("ac6a");var y=n("f1fb"),m=n("cc9d"),v=n("0864"),_=n("900c"),k={mixins:[v["a"]],props:{header:String},components:{cSwitch:y["o"],BValidatedInputGroupFormInput:m["a"]},data:function(){return{headers:{consistencyCheck:this.header+" - Periodic consistency check",manualRebuild:this.header+" - Manual rebuild"},type:{project:!1,component:!1,vulnerability:!1,vulnerablesofware:!1,license:!1,cpe:!1,servicecomponent:!1},consistencyCheck:{enabled:!1,cadence:"4320",cadenceTooltip:"",threshold:"20",thresholdTooltip:""}}},created:function(){var e=this;this.axios.get(this.configUrl).then((function(t){for(var n=t.data.filter((function(e){return"search-indexes"===e.groupName})),c=0;c<n.length;c++){var i=n[c];switch(i.propertyName){case"consistency.check.enabled":e.consistencyCheck.enabled=_["a"].toBoolean(i.propertyValue);break;case"consistency.check.cadence":e.consistencyCheck.cadence=i.propertyValue,e.consistencyCheck.cadenceTooltip=i.description;break;case"consistency.check.delta.threshold":e.consistencyCheck.threshold=i.propertyValue,e.consistencyCheck.thresholdTooltip=i.description;break}}}))},methods:{saveConsistencyCheckSettings:function(){this.updateConfigProperties([{groupName:"search-indexes",propertyName:"consistency.check.enabled",propertyValue:this.consistencyCheck.enabled},{groupName:"search-indexes",propertyName:"consistency.check.cadence",propertyValue:this.consistencyCheck.cadence},{groupName:"search-indexes",propertyName:"consistency.check.delta.threshold",propertyValue:this.consistencyCheck.threshold}])},reindex:function(){var e=this,t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_SEARCH,"/reindex"),n=new URLSearchParams;Object.entries(this.type).forEach((function(e){var t=f(e,2),c=t[0],i=t[1];i&&n.append("type",c.toUpperCase())})),this.axios.post(t,null,{params:n}).then((function(t){e.$toastr.s(e.$t("admin.reindex_submitted"))})).catch((function(t){e.$toastr.s(e.$t("admin.reindex_error"))}))}}},g=k,x=n("2877"),$=Object(x["a"])(g,c,i,!1,null,null,null);t["default"]=$.exports},"504c":function(e,t,n){var c=n("9e1e"),i=n("0d58"),r=n("6821"),o=n("52a7").f;e.exports=function(e){return function(t){var n,a=r(t),s=i(a),l=s.length,u=0,p=[];while(l>u)n=s[u++],c&&!o.call(a,n)||p.push(e?[n,a[n]]:a[n]);return p}}},7333:function(e,t,n){"use strict";var c=n("9e1e"),i=n("0d58"),r=n("2621"),o=n("52a7"),a=n("4bf8"),s=n("626a"),l=Object.assign;e.exports=!l||n("79e5")((function(){var e={},t={},n=Symbol(),c="abcdefghijklmnopqrst";return e[n]=7,c.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=c}))?function(e,t){var n=a(e),l=arguments.length,u=1,p=r.f,d=o.f;while(l>u){var h,b=s(arguments[u++]),f=p?i(b).concat(p(b)):i(b),y=f.length,m=0;while(y>m)h=f[m++],c&&!d.call(b,h)||(n[h]=b[h])}return n}:l},cc9d:function(e,t,n){"use strict";var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("validation-provider",{attrs:{vid:e.id,name:e.label,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var c=t.errors,i=t.valid;return[n("b-form-group",{attrs:{id:e.id,label:e.label,"label-for":e.id+"-input"}},[n("b-input-group",{class:e.inputGroupSize},[e.icon?n("b-input-group-prepend",[n("b-input-group-text",[n("i",{class:e.icon})])],1):e._e(),n("b-form-input",e._g({class:e.inputClasses,attrs:{id:e.id+"-input",type:e.type,placeholder:e.label,state:e.errorHandlingMethod(c,i),autocomplete:e.autocomplete,autofocus:e.isFocused},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},e.inputListeners)),e.tooltip?n("b-input-group-append",[n("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.tooltip}},[n("i",{staticClass:"cui-info font-lg"})])],1):e._e()],1),n("b-form-invalid-feedback",{attrs:{state:e.errorHandlingMethod(c,i)}},[e._v("\n      "+e._s(c[0])+"\n    ")])],1)]}}])})},i=[],r=(n("6762"),n("2fdb"),n("f751"),n("7bb1")),o=n("900c"),a={name:"BValidatedInputGroupFormInput",components:{ValidationProvider:r["b"]},props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,rules:String,type:String,autocomplete:String,autofocus:String,tooltip:String,lazy:String},data:function(){return{isFocused:!1}},beforeMount:function(){!0!==this.autofocus&&"true"!==this.autofocus||(this.isFocused=!0)},computed:{innerValue:{get:function(){return this.value},set:function(e){return e}},inputListeners:function(){var e=this;return Object.assign({},this.$listeners,{input:function(t){e.$emit("input",t)}})},inputClasses:function(){var e="form-control";return!o["a"].toBoolean(this.lazy)&&this.rules&&this.rules.includes("required")&&(e+=" required"),e}},methods:{errorHandlingMethod:function(e,t){return this.rules?o["a"].toBoolean(this.lazy)?!e[0]&&(!!t||null):!e[0]&&!!t:null}}},s=a,l=n("2877"),u=Object(l["a"])(s,c,i,!1,null,null,null);t["a"]=u.exports},f751:function(e,t,n){var c=n("5ca1");c(c.S+c.F,"Object",{assign:n("7333")})},ffc1:function(e,t,n){var c=n("5ca1"),i=n("504c")(!0);c(c.S,"Object",{entries:function(e){return i(e)}})}}]);