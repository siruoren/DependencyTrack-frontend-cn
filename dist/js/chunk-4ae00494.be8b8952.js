(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ae00494"],{"0864":function(t,e,a){"use strict";a("bc3a");var r=a("900c");e["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(t){for(var e=this,a=[],i=0;i<t.length;i++){var s=t[i];s.propertyValue=r["a"].trimToNull(s.propertyValue),a.push(s)}var n="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(n,a).then((function(t){e.$toastr.s(e.$t("admin.configuration_saved"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(t,e,a){var i=this;a=r["a"].trimToNull(a);var s="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(s,{groupName:t,propertyName:e,propertyValue:a}).then((function(t){i.$toastr.s(i.$t("admin.configuration_saved"))})).catch((function(t){i.$toastr.w(i.$t("condition.unsuccessful_action"))}))}}}},"0ed3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"no-body":"",header:t.header}},[a("b-card-body",[a("c-switch",t._b({attrs:{id:"email-enabled",color:"primary",label:""},model:{value:t.isEmailEnabled,callback:function(e){t.isEmailEnabled=e},expression:"isEmailEnabled"}},"c-switch",t.labelIcon,!1)),t._v(t._s(t.$t("admin.enable_email"))+"\n    "),a("b-validated-input-group-form-input",{attrs:{id:"email-from-address",label:t.$t("admin.email_from_address"),"input-group-size":"mb-3",rules:"required",type:"text",lazy:"true"},model:{value:t.emailFromAddress,callback:function(e){t.emailFromAddress=e},expression:"emailFromAddress"}}),a("b-validated-input-group-form-input",{attrs:{id:"email-smtp-server",label:t.$t("admin.email_smtp_server"),"input-group-size":"mb-3",rules:"required",type:"text",lazy:"true"},model:{value:t.emailSmtpServer,callback:function(e){t.emailSmtpServer=e},expression:"emailSmtpServer"}}),a("b-validated-input-group-form-input",{attrs:{id:"email-smtp-port",label:t.$t("admin.email_smtp_port"),"input-group-size":"mb-3",rules:"required",type:"number",lazy:"true"},model:{value:t.emailSmtpPort,callback:function(e){t.emailSmtpPort=e},expression:"emailSmtpPort"}}),a("b-validated-input-group-form-input",{attrs:{id:"email-smtp-username",label:t.$t("admin.email_smtp_username"),"input-group-size":"mb-3",type:"text",lazy:"true"},model:{value:t.emailSmtpUsername,callback:function(e){t.emailSmtpUsername=e},expression:"emailSmtpUsername"}}),a("b-validated-input-group-form-input",{attrs:{id:"email-smtp-password",label:t.$t("admin.email_smtp_password"),"input-group-size":"mb-3",type:"password",lazy:"true",conceal:"true"},model:{value:t.emailSmtpPassword,callback:function(e){t.emailSmtpPassword=e},expression:"emailSmtpPassword"}}),a("c-switch",t._b({attrs:{id:"email-smtp-enable-ssltls",color:"primary",label:""},model:{value:t.isSmtpSslTlsEnabled,callback:function(e){t.isSmtpSslTlsEnabled=e},expression:"isSmtpSslTlsEnabled"}},"c-switch",t.labelIcon,!1)),t._v(t._s(t.$t("admin.email_enable_ssltls"))+"\n    "),a("br"),a("c-switch",t._b({attrs:{id:"email-smtp-trust-cert",color:"primary",label:""},model:{value:t.isEmailSmtpTrustCertEnabled,callback:function(e){t.isEmailSmtpTrustCertEnabled=e},expression:"isEmailSmtpTrustCertEnabled"}},"c-switch",t.labelIcon,!1)),t._v(t._s(t.$t("admin.email_trust_cert"))+"\n  ")],1),a("b-card-footer",[a("b-button",{staticClass:"px-4",attrs:{size:"md",variant:"outline-primary"},on:{click:t.saveChanges}},[t._v(t._s(t.$t("message.update")))]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.emailTestConfigurationModal",modifiers:{emailTestConfigurationModal:!0}}],staticClass:"px-4",attrs:{size:"md",variant:"outline-primary"}},[t._v(t._s(t.$t("admin.configuration_test")))])],1),a("email-test-configuration-modal")],1)},i=[],s=a("f1fb"),n=a("cc9d"),o=a("0864"),l=a("900c"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"emailTestConfigurationModal",size:"md","hide-header-close":"","no-stacking":"",title:t.$t("admin.configuration_test")},on:{hide:function(e){return t.resetValues()}},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel;return[a("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return r()}}},[t._v(t._s(t.$t("message.close")))]),a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(e){t.testConfiguration(),r()}}},[t._v(t._s(t.$t("admin.perform_test")))])]}}])},[a("b-validated-input-group-form-input",{attrs:{id:"email-to-address",label:t.$t("admin.email_address"),"input-group-size":"mb-3",rules:"required",type:"email",tooltip:"Enter an email address you control to test your send configuration.",lazy:"true"},model:{value:t.emailAddress,callback:function(e){t.emailAddress=e},expression:"emailAddress"}})],1)},p=[],m={name:"ProjectPropertiesModal",components:{BValidatedInputGroupFormInput:n["a"]},data:function(){return{emailAddress:""}},methods:{testConfiguration:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_NOTIFICATION_PUBLISHER,"/test/smtp"),a=new URLSearchParams;a.append("destination",this.emailAddress),this.axios.post(e,a,{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){t.$toastr.s(t.$t("admin.test_notification_queued"))})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))})),this.$root.$emit("bv::hide::modal","emailTestConfigurationModal")},resetValues:function(){this.emailAddress=""}}},c=m,d=a("2877"),b=Object(d["a"])(c,u,p,!1,null,null,null),f=b.exports,h={mixins:[o["a"]],props:{header:String},components:{cSwitch:s["o"],BValidatedInputGroupFormInput:n["a"],EmailTestConfigurationModal:f},data:function(){return{isEmailEnabled:!1,emailFromAddress:"",emailSmtpServer:"",emailSmtpPort:"",emailSmtpUsername:"",emailSmtpPassword:"",isSmtpSslTlsEnabled:!1,isEmailSmtpTrustCertEnabled:!1}},methods:{saveChanges:function(){this.updateConfigProperties([{groupName:"email",propertyName:"smtp.enabled",propertyValue:this.isEmailEnabled},{groupName:"email",propertyName:"smtp.from.address",propertyValue:this.emailFromAddress},{groupName:"email",propertyName:"smtp.server.hostname",propertyValue:this.emailSmtpServer},{groupName:"email",propertyName:"smtp.server.port",propertyValue:this.emailSmtpPort},{groupName:"email",propertyName:"smtp.username",propertyValue:this.emailSmtpUsername},{groupName:"email",propertyName:"smtp.ssltls",propertyValue:this.isSmtpSslTlsEnabled},{groupName:"email",propertyName:"smtp.trustcert",propertyValue:this.isEmailSmtpTrustCertEnabled}]),"HiddenDecryptedPropertyPlaceholder"!==this.emailSmtpPassword&&this.updateConfigProperty("email","smtp.password",this.emailSmtpPassword)}},created:function(){var t=this;this.axios.get(this.configUrl).then((function(e){for(var a=e.data.filter((function(t){return"email"===t.groupName})),r=0;r<a.length;r++){var i=a[r];switch(i.propertyName){case"smtp.enabled":t.isEmailEnabled=l["a"].toBoolean(i.propertyValue);break;case"smtp.from.address":t.emailFromAddress=i.propertyValue;break;case"smtp.server.hostname":t.emailSmtpServer=i.propertyValue;break;case"smtp.server.port":t.emailSmtpPort=i.propertyValue;break;case"smtp.username":t.emailSmtpUsername=i.propertyValue;break;case"smtp.password":t.emailSmtpPassword=i.propertyValue;break;case"smtp.ssltls":t.isSmtpSslTlsEnabled=l["a"].toBoolean(i.propertyValue);break;case"smtp.trustcert":t.isEmailSmtpTrustCertEnabled=l["a"].toBoolean(i.propertyValue);break}}}))}},v=h,g=Object(d["a"])(v,r,i,!1,null,null,null);e["default"]=g.exports},7333:function(t,e,a){"use strict";var r=a("9e1e"),i=a("0d58"),s=a("2621"),n=a("52a7"),o=a("4bf8"),l=a("626a"),u=Object.assign;t.exports=!u||a("79e5")((function(){var t={},e={},a=Symbol(),r="abcdefghijklmnopqrst";return t[a]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[a]||Object.keys(u({},e)).join("")!=r}))?function(t,e){var a=o(t),u=arguments.length,p=1,m=s.f,c=n.f;while(u>p){var d,b=l(arguments[p++]),f=m?i(b).concat(m(b)):i(b),h=f.length,v=0;while(h>v)d=f[v++],r&&!c.call(b,d)||(a[d]=b[d])}return a}:u},cc9d:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-provider",{attrs:{vid:t.id,name:t.label,rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,i=e.valid;return[a("b-form-group",{attrs:{id:t.id,label:t.label,"label-for":t.id+"-input"}},[a("b-input-group",{class:t.inputGroupSize},[t.icon?a("b-input-group-prepend",[a("b-input-group-text",[a("i",{class:t.icon})])],1):t._e(),a("b-form-input",t._g({class:t.inputClasses,attrs:{id:t.id+"-input",type:t.type,placeholder:t.label,state:t.errorHandlingMethod(r,i),autocomplete:t.autocomplete,autofocus:t.isFocused},model:{value:t.innerValue,callback:function(e){t.innerValue=e},expression:"innerValue"}},t.inputListeners)),t.tooltip?a("b-input-group-append",[a("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.tooltip}},[a("i",{staticClass:"cui-info font-lg"})])],1):t._e()],1),a("b-form-invalid-feedback",{attrs:{state:t.errorHandlingMethod(r,i)}},[t._v("\n      "+t._s(r[0])+"\n    ")])],1)]}}])})},i=[],s=(a("6762"),a("2fdb"),a("f751"),a("7bb1")),n=a("900c"),o={name:"BValidatedInputGroupFormInput",components:{ValidationProvider:s["b"]},props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,rules:String,type:String,autocomplete:String,autofocus:String,tooltip:String,lazy:String},data:function(){return{isFocused:!1}},beforeMount:function(){!0!==this.autofocus&&"true"!==this.autofocus||(this.isFocused=!0)},computed:{innerValue:{get:function(){return this.value},set:function(t){return t}},inputListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){t.$emit("input",e)}})},inputClasses:function(){var t="form-control";return!n["a"].toBoolean(this.lazy)&&this.rules&&this.rules.includes("required")&&(t+=" required"),t}},methods:{errorHandlingMethod:function(t,e){return this.rules?n["a"].toBoolean(this.lazy)?!t[0]&&(!!e||null):!t[0]&&!!e:null}}},l=o,u=a("2877"),p=Object(u["a"])(l,r,i,!1,null,null,null);e["a"]=p.exports},f751:function(t,e,a){var r=a("5ca1");r(r.S+r.F,"Object",{assign:a("7333")})}}]);