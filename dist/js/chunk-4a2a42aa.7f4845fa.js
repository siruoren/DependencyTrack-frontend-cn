(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a2a42aa","chunk-2d0a512f"],{"0864":function(t,e,a){"use strict";var n=a("900c");e["a"]={data:function(){return{configUrl:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/"),labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{updateConfigProperties:function(t){for(var e=this,a=[],o=0;o<t.length;o++){var i=t[o];i.propertyValue=n["a"].trimToNull(i.propertyValue),a.push(i)}var r="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(r,a).then((function(t){e.$toastr.s(e.$t("admin.configuration_saved"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},updateConfigProperty:function(t,e,a){var o=this;a=n["a"].trimToNull(a);var i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/");this.axios.post(i,{groupName:t,propertyName:e,propertyValue:a}).then((function(t){o.$toastr.s(o.$t("admin.configuration_saved"))})).catch((function(t){o.$toastr.w(o.$t("condition.unsuccessful_action"))}))}}}},"08c4":function(t,e,a){"use strict";var n=a("a026");function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return e=c(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t){var e=u(t,"string");return"symbol"===o(e)?e:String(e)}function u(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["a"]={data:function(){return{vueFormatters:[]}},methods:{vueFormatter:function(t){var e="_vue_formatter_".concat(this.vueFormatters.length);return this.vueFormatters.push(r({el:".".concat(e),name:e},t)),'<div class="'.concat(e,'"/>')},vueFormatterInit:function(){if(this.vueFormatters.length)for(var t=this.vueFormatters.length-1;t>=0;t--){var e=this.vueFormatters[t];document.getElementsByClassName(e.name)&&(new n["default"](e),this.vueFormatters.splice(t,1))}}}}},"192b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form-group",{attrs:{id:t.id,label:t.label,"label-for":t.id+"-input","label-class":t.labelClasses}},[a("b-input-group",{class:t.inputGroupSize},[t.icon?a("b-input-group-prepend",[a("b-input-group-text",[a("i",{class:t.icon})])],1):t._e(),a("b-form-input",t._g({class:t.inputClasses,attrs:{id:t.id+"-input",type:t.type,placeholder:t.label,state:t.feedbackState(),autocomplete:t.autocomplete,autofocus:t.isFocused,required:t.isRequired,readonly:t.readonly,disabled:t.isDisabled,trim:""},on:{blur:function(e){t.hadFocus=!0}},model:{value:t.innerValue,callback:function(e){t.innerValue=e},expression:"innerValue"}},t.inputListeners)),t.tooltip?a("b-input-group-append",[a("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.tooltip}},[a("i",{staticClass:"cui-info font-lg"})])],1):t._e()],1),"true"===this.feedback?a("b-form-invalid-feedback",{attrs:{state:t.feedbackState()}},[t._v("\n    "+t._s(t.feedbackText)+"\n  ")]):t._e()],1)},o=[],i=a("900c"),r={props:{id:String,label:String,value:String,inputGroupSize:String,icon:String,type:String,autocomplete:String,autofocus:String,tooltip:String,feedbackText:String,feedback:String,lazy:String,required:String,readonly:Boolean,disabled:String,state:{default:void 0,type:Boolean}},data:function(){return{isFocused:!1,isRequired:!1,isDisabled:!1,hadFocus:!1}},beforeMount:function(){this.isFocused=i["a"].toBoolean(this.autofocus),this.isRequired=i["a"].toBoolean(this.required),this.isDisabled=i["a"].toBoolean(this.disabled)},computed:{innerValue:{get:function(){return this.value&&this.value.length,this.value},set:function(t){return t}},inputListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){t.$emit("input",e)}})},inputClasses:function(){return this.isRequired?"required":null},labelClasses:function(){return this.isRequired?"required":null}},methods:{feedbackState:function(){if(!this.isDisabled||this.isRequired)return void 0!==this.state?this.state:i["a"].toBoolean(this.lazy)&&i["a"].toBoolean(this.required)?!!(this.value&&this.value.length>0)||!this.hadFocus&&void 0:!!(this.value&&this.value.length>0)||void 0}}},s=r,c=a("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);e["a"]=u.exports},"5f90":function(t,e,a){"use strict";a("8965")},"7c15":function(t,e,a){"use strict";var n=a("a4c1");e["a"]={data:function(){return{PERMISSIONS:{BOM_UPLOAD:n["b"],VIEW_PORTFOLIO:n["h"],PORTFOLIO_MANAGEMENT:n["e"],ACCESS_MANAGEMENT:n["a"],VIEW_VULNERABILITY:n["i"],VULNERABILITY_ANALYSIS:n["j"],VIEW_POLICY_VIOLATION:n["g"],VULNERABILITY_MANAGEMENT:n["k"],POLICY_VIOLATION_ANALYSIS:n["d"],SYSTEM_CONFIGURATION:n["f"],POLICY_MANAGEMENT:n["c"]}}},computed:{decodedToken:function(){return n["l"](n["m"]())}},methods:{isPermitted:function(t){return n["n"](t,this.decodedToken)},isNotPermitted:function(t){return!n["n"](t,this.decodedToken)}}}},8965:function(t,e,a){},be35:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"no-body":"",header:t.header}},[a("b-card-body",[a("div",{attrs:{id:"customToolbar"}},[a("c-switch",t._b({attrs:{id:"isAclEnabled",color:"primary",label:""},model:{value:t.isAclEnabled,callback:function(e){t.isAclEnabled=e},expression:"isAclEnabled"}},"c-switch",t.labelIcon,!1)),t._v(t._s(t.$t("admin.enable_acl"))+"\n    ")],1),a("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)],1)},o=[],i=a("6c36"),r=a.n(i),s=a("900c"),c=a("12cb"),u=a("08c4"),l=(a("f547"),a("e68f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"selectProjectModal",size:"lg","hide-header-close":"","no-stacking":"",title:t.$t("admin.select_project")},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.cancel;return[a("b-button",{attrs:{size:"md",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(t._s(t.$t("message.cancel")))]),a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(e){t.$emit("selection",t.$refs.table.getSelections())}}},[t._v(t._s(t.$t("message.select")))])]}}])},[a("div",{staticClass:"bs-table-custom-toolbar",attrs:{id:"projectsToolbar"}},[a("c-switch",t._b({staticStyle:{"margin-left":"1rem","margin-right":".5rem"},attrs:{id:"showInactiveProjects",color:"primary",label:""},model:{value:t.showInactiveProjects,callback:function(e){t.showInactiveProjects=e},expression:"showInactiveProjects"}},"c-switch",t.labelIcon,!1)),a("span",{staticClass:"text-muted"},[t._v(t._s(t.$t("message.show_inactive_projects")))])],1),a("bootstrap-table",{ref:"table",attrs:{columns:t.columns,data:t.data,options:t.options}})],1)},d=[],f=a("7c15"),h=a("f1fb"),m={mixins:[f["a"]],components:{cSwitch:h["o"]},data:function(){return{showInactiveProjects:!1,labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{field:"state",checkbox:!0,align:"center"},{title:this.$t("message.project_name"),field:"name",sortable:!0,formatter:function(t,e,a){var n=r.a.uriInUnQuotedAttr("../projects/"+e.uuid);return'<a href="'.concat(n,'">').concat(r.a.inHTMLData(t),"</a>")}},{title:this.$t("message.version"),field:"version",sortable:!0,formatter:function(t,e,a){return r.a.inHTMLData(s["a"].valueWithDefault(t,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"server",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},toolbar:"#projectsToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:this.apiUrl()}}},methods:{apiUrl:function(){var t="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_PROJECT);return void 0===this.showInactiveProjects?t+="?excludeInactive=true":t+="?excludeInactive="+!this.showInactiveProjects,t},refreshTable:function(){this.$refs.table.refresh({url:this.apiUrl(),silent:!0})}},watch:{showInactiveProjects:function(){this.refreshTable()}}},b=m,v=a("2877"),g=Object(v["a"])(b,p,d,!1,null,null,null),_=g.exports,S=a("192b"),j=a("0864"),$={props:{header:String},mixins:[u["a"],j["a"]],components:{cSwitch:h["o"]},data:function(){var t=this;return{isAclEnabled:!1,labelIcon:{dataOn:"✓",dataOff:"✕"},columns:[{title:this.$t("admin.team_name"),field:"name",sortable:!1,formatter:function(t,e,a){return r.a.inHTMLData(s["a"].valueWithDefault(t,""))}}],data:[],options:{search:!0,showColumns:!0,showRefresh:!0,pagination:!0,silentSort:!1,sidePagination:"client",queryParamsType:"pageSize",pageList:"[10, 25, 50, 100]",pageSize:10,icons:{refresh:"fa-refresh"},detailView:!0,detailViewIcon:!1,detailViewByClick:!0,detailFormatter:function(e,a){return t.vueFormatter({i18n:c["a"],template:'\n                <b-row class="expanded-row">\n                  <b-col sm="6">\n                    <b-form-group :label="this.$t(\'admin.project_access\')">\n                      <div class="list-group">\n                        <span v-for="project in projects">\n                          <actionable-list-group-item :value="projectLabel(project.name, project.version)" :href=projectUri(project.uuid) :delete-icon="true" v-on:actionClicked="removeProjectMapping(project.uuid)"/>\n                        </span>\n                        <actionable-list-group-item :add-icon="true" v-on:actionClicked="$root.$emit(\'bv::show::modal\', \'selectProjectModal\')"/>\n                      </div>\n                    </b-form-group>\n                  </b-col>\n                  <b-col sm="6">\n                  </b-col>\n                  <select-project-modal v-on:selection="updateProjectSelection" />\n                </b-row>\n              ',mixins:[f["a"]],components:{cSwitch:h["o"],ActionableListGroupItem:l["a"],SelectProjectModal:_,BInputGroupFormInput:S["a"]},data:function(){return{team:a,name:a.name,projects:a.mappedLdapGroups,labelIcon:{dataOn:"✓",dataOff:"✕"}}},methods:{projectLabel:function(t,e){return e?t+" "+e:t},projectUri:function(t){return r.a.uriInUnQuotedAttr("../projects/"+t)},updateProjectSelection:function(t){var e=this;this.$root.$emit("bv::hide::modal","selectProjectModal");for(var a=function(){var a=t[n],o="".concat(e.$api.BASE_URL,"/").concat(e.$api.URL_ACL_MAPPING);e.axios.put(o,{team:e.team.uuid,project:a.uuid}).then((function(t){void 0!==e.projects&&null!==e.projects||(e.projects=[]),e.projects.push({name:a.name,version:a.version,uuid:a.uuid}),e.projects.sort(),e.$toastr.s(e.$t("message.updated"))})).catch((function(t){304===t.response.status||e.$toastr.w(e.$t("condition.unsuccessful_action"))}))},n=0;n<t.length;n++)a()},removeProjectMapping:function(t){var e=this,a="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ACL_MAPPING,"/team/").concat(this.team.uuid,"/project/").concat(t);this.axios.delete(a).then((function(a){for(var n=[],o=0;o<e.projects.length;o++)e.projects[o].uuid!==t&&n.push(e.projects[o]);e.projects=n,e.$toastr.s(e.$t("message.updated"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))}},mounted:function(){var t=this,e="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_ACL_TEAM,"/").concat(this.team.uuid);this.axios.get(e).then((function(e){t.projects=e.data})).catch((function(e){t.$toastr.w(t.$t("condition.unsuccessful_action"))}))}})},onExpandRow:this.vueFormatterInit,toolbar:"#customToolbar",responseHandler:function(t,e){return t.total=e.getResponseHeader("X-Total-Count"),t},url:"".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_TEAM)}}},methods:{refreshTable:function(){this.$refs.table.refresh({silent:!0})},updateProperties:function(){this.updateConfigProperties([{groupName:"access-management",propertyName:"acl.enabled",propertyValue:this.isAclEnabled}])},updateConfigProperties:function(t){for(var e=this,a=[],n=0;n<t.length;n++){var o=t[n];o.propertyValue=s["a"].trimToNull(o.propertyValue),a.push(o)}var i="".concat(this.$api.BASE_URL,"/").concat(this.$api.URL_CONFIG_PROPERTY,"/aggregate");this.axios.post(i,a).then((function(t){e.$toastr.s(e.$t("admin.configuration_saved"))})).catch((function(t){e.$toastr.w(e.$t("condition.unsuccessful_action"))}))}},watch:{isAclEnabled:function(){this.updateProperties()}},created:function(){var t=this;this.axios.get(this.configUrl).then((function(e){for(var a=e.data.filter((function(t){return"access-management"===t.groupName})),n=0;n<a.length;n++){var o=a[n];switch(o.propertyName){case"acl.enabled":t.isAclEnabled=s["a"].toBoolean(o.propertyValue);break}}}))}},y=$,P=Object(v["a"])(y,n,o,!1,null,null,null);e["default"]=P.exports},e68f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"list-group-item align-middle"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pull-right action-icon",attrs:{size:"sm",title:t.tooltip},on:{click:function(e){return t.$emit("actionClicked")}}},[this.addIcon?a("span",{staticClass:"fa fa-plus-square"}):t._e(),this.deleteIcon?a("span",{staticClass:"fa fa-trash-o"}):t._e()]),t.$slots&&t.$slots.default&&t.$slots.default[0]?t._t("default"):a("span",[this.href?a("a",{attrs:{href:t.href}},[t._v(t._s(t.value))]):a("span",[t._v(t._s(t.value))]),t._v(" ")])],2)},o=[],i={props:{value:String,tooltip:String,addIcon:Boolean,deleteIcon:Boolean,variant:String,href:String}},r=i,s=(a("5f90"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,"548fa20f",null);e["a"]=c.exports}}]);